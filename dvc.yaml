vars:
  - params/base.yaml

stages:
  preprocess:
    cmd: python src/processing.py
    deps:
      - src/processing.py
      - data/raw/train.csv
      - data/raw/test.csv
    params:
      - params/base.yaml:
          - data.raw_train_path
          - data.raw_test_path
          - data.processed_dir
          - data.train_processed
          - data.test_processed
    outs:
      - data/processed/X_train.csv
      - data/processed/y_train.csv
      - data/processed/X_test.csv

  train:
    cmd: python src/Main.py rf  
    deps:
      - src/Main.py
      - src/model.py
      - data/processed/X_train.csv
      - data/processed/y_train.csv
    params:
      - params/base.yaml
      - params/models/rf.yaml
    outs:
      - models/*
    metrics:
      - metrics.json